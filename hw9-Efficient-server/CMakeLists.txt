#--------------------------------------------------------------------------------------------------
# Basic
#--------------------------------------------------------------------------------------------------
# Setup the minimum version required of CMake to generate the Makefile
cmake_minimum_required(VERSION 3.25)
# Raises a FATAL_ERROR if version < specified version
cmake_minimum_required (VERSION 3.25 FATAL_ERROR)

# We define the name of our project, and this changes some directories
# naming convention generated by CMake. We can send the LANG of code
# as the second parameter
project(server C CXX ASM)

# Set the language standard
set(CMAKE_C_STANDARD 17)
set(CMAKE_CXX_STANDARD 20)
set(CMAKE_CXX_STANDARD_REQUIRED True)

# Add general compile options that apply to all configurations
add_compile_options(
        -Wall                       # Enable all warnings
        -Wextra                     # Enable extra warnings
#        -Wno-format-security        # Disable format-security warnings
#        -Wnon-virtual-dtor          # Warn when a class with a virtual function has a non-virtual destructor
#        -Wold-style-cast            # Warn for c-style casts
#        -Wcast-align                # Warn for potential performance problem casts
#        -Woverloaded-virtual        # Warn if you overload (not override) a virtual function
#        -Wconversion                # Warn on type conversions that may lose data
#        -Wmisleading-indentation    # Warn if indentation implies blocks where they do not exist
#        -Wduplicated-cond           # Warn if if / else chain has duplicated conditions
#        -Wduplicated-branches       # Warn if if / else branches have duplicated code
#        -Wlogical-op                # Warn about suspicious uses of logical operators in expressions
#        -Wnull-dereference          # Warn if a null dereference is detected
#        -Wuseless-cast              # Warn if you perform a cast to the same type
#        -Wdouble-promotion          # Warn if float is implicitly promoted to double
)

# Uncomment the following line if you want to allow format and unused-function warnings
#add_compile_options(
#    -Wno-format
#    -Wno-unused-function
#)

#--------------------------------------------------------------------------------------------------
# Targets
#--------------------------------------------------------------------------------------------------
# Subdirectories to compile (Projects)
add_subdirectory(server-src)
